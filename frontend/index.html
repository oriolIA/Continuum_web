<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Continuum Web - Wind Resource Toolkit</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation">
        <div class="wave wave1"></div>
        <div class="wave wave2"></div>
        <div class="wave wave3"></div>
    </div>

    <!-- Sidebar -->
    <nav class="sidebar">
        <div class="logo">
            <div class="logo-icon-wrapper">
                <i class="fas fa-wind"></i>
            </div>
            <div class="logo-text">
                <span class="brand">Continuum</span>
                <span class="tagline">Wind Toolkit</span>
            </div>
        </div>
        
        <ul class="nav-links">
            <li class="active" data-page="dashboard">
                <i class="fas fa-chart-line"></i>
                <span>Dashboard</span>
            </li>
            <li data-page="met-filter">
                <i class="fas fa-wind"></i>
                <span>Met Filter</span>
            </li>
            <li data-page="mcp">
                <i class="fas fa-project-diagram"></i>
                <span>MCP</span>
            </li>
            <li data-page="wake">
                <i class="fas fa-tachometer-alt"></i>
                <span>Wake Model</span>
            </li>
            <li data-page="layout">
                <i class="fas fa-th"></i>
                <span>Layout</span>
            </li>
            <li data-page="neural-mcp">
                <i class="fas fa-brain"></i>
                <span>Neural MCP</span>
            </li>
        </ul>
        
        <div class="sidebar-footer">
            <div class="api-status" id="api-status">
                <div class="status-indicator"></div>
                <span>API Connected</span>
            </div>
            <div class="version">v2.0</div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="content">
        <!-- Dashboard -->
        <section id="dashboard" class="page active">
            <div class="page-header">
                <h1>Wind Resource Dashboard</h1>
                <p class="subtitle">Real-time analysis and monitoring</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card glass">
                    <div class="stat-icon">
                        <i class="fas fa-wind"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Wind Speed</h3>
                        <p class="stat-value" id="dash-ws">--<span class="unit">m/s</span></p>
                        <div class="stat-trend positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>Optimal</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card glass">
                    <div class="stat-icon turbine">
                        <i class="fas fa-fan"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Turbines</h3>
                        <p class="stat-value" id="dash-turbines">--</p>
                        <div class="stat-meta">Active</div>
                    </div>
                </div>
                
                <div class="stat-card glass">
                    <div class="stat-icon power">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Power Output</h3>
                        <p class="stat-value" id="dash-power">--<span class="unit">MW</span></p>
                        <div class="stat-meta">Estimated</div>
                    </div>
                </div>
                
                <div class="stat-card glass">
                    <div class="stat-icon wake">
                        <i class="fas fa-chart-area"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Wake Loss</h3>
                        <p class="stat-value" id="dash-wake">--<span class="unit">%</span></p>
                        <div class="stat-trend negative">
                            <i class="fas fa-arrow-down"></i>
                            <span>Minimized</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="dashboard-grid">
                <div class="card glass wind-rose-card">
                    <div class="card-header">
                        <h2><i class="fas fa-compass"></i> Wind Rose</h2>
                    </div>
                    <div class="card-body">
                        <canvas id="windRoseChart"></canvas>
                    </div>
                </div>
                
                <div class="card glass quick-actions-card">
                    <div class="card-header">
                        <h2><i class="fas fa-bolt"></i> Quick Actions</h2>
                    </div>
                    <div class="card-body">
                        <div class="action-grid">
                            <button onclick="showPage('met-filter')" class="action-btn glass">
                                <div class="action-icon"><i class="fas fa-filter"></i></div>
                                <span>Filter Data</span>
                            </button>
                            <button onclick="showPage('mcp')" class="action-btn glass">
                                <div class="action-icon"><i class="fas fa-project-diagram"></i></div>
                                <span>Run MCP</span>
                            </button>
                            <button onclick="showPage('wake')" class="action-btn glass">
                                <div class="action-icon"><i class="fas fa-tachometer-alt"></i></div>
                                <span>Wake Model</span>
                            </button>
                            <button onclick="showPage('layout')" class="action-btn glass">
                                <div class="action-icon"><i class="fas fa-th"></i></div>
                                <span>Design Layout</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Met Filter -->
        <section id="met-filter" class="page">
            <div class="page-header">
                <h1><i class="fas fa-wind"></i> Met Data Filter</h1>
                <p class="subtitle">Quality control and data filtering</p>
            </div>
            
            <div class="card glass">
                <div class="card-header">
                    <h2><i class="fas fa-upload"></i> Input Data</h2>
                </div>
                <div class="card-body">
                    <textarea id="met-input" placeholder='[{"wind_speed": 8.5, "wind_direction": 270, "temperature": 15}, ...]'></textarea>
                    
                    <div class="filter-options">
                        <label class="toggle-option">
                            <input type="checkbox" id="filter-shadow" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">Tower Shadow</span>
                        </label>
                        <label class="toggle-option">
                            <input type="checkbox" id="filter-ice" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">Ice Detection</span>
                        </label>
                        <label class="toggle-option">
                            <input type="checkbox" id="filter-std" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">Std Filter</span>
                        </label>
                    </div>
                    
                    <button onclick="runMetFilter()" class="primary-btn glow">
                        <i class="fas fa-play"></i> Run Filter
                    </button>
                </div>
            </div>
            
            <div class="results glass" id="met-results">
                <div class="results-placeholder">
                    <i class="fas fa-chart-line"></i>
                    <p>Results will appear here</p>
                </div>
            </div>
        </section>

        <!-- MCP -->
        <section id="mcp" class="page">
            <div class="page-header">
                <h1><i class="fas fa-project-diagram"></i> Measure-Correlate-Predict</h1>
                <p class="subtitle">Correlation analysis between stations</p>
            </div>
            
            <div class="card glass">
                <div class="card-header">
                    <h2><i class="fas fa-sliders-h"></i> Configuration</h2>
                </div>
                <div class="card-body">
                    <div class="input-row">
                        <div class="input-group">
                            <label>Method</label>
                            <select id="mcp-method">
                                <option value="orthogonal">Orthogonal Regression</option>
                                <option value="bins">Method of Bins</option>
                                <option value="matrix">Matrix-LastWS</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="input-row">
                        <div class="input-group half">
                            <label>Reference Data</label>
                            <textarea id="mcp-ref" placeholder='[{"wind_speed": 8.5, "wind_direction": 270}, ...]'></textarea>
                        </div>
                        <div class="input-group half">
                            <label>Target Data</label>
                            <textarea id="mcp-target" placeholder='[{"wind_speed": 8.1, "wind_direction": 275}, ...]'></textarea>
                        </div>
                    </div>
                    
                    <button onclick="runMCP()" class="primary-btn glow">
                        <i class="fas fa-play"></i> Run MCP
                    </button>
                </div>
            </div>
            
            <div class="results glass" id="mcp-results">
                <div class="results-placeholder">
                    <i class="fas fa-chart-bar"></i>
                    <p>Results will appear here</p>
                </div>
            </div>
        </section>

        <!-- Wake Model -->
        <section id="wake" class="page">
            <div class="page-header">
                <h1><i class="fas fa-tachometer-alt"></i> Wake Loss Model</h1>
                <p class="subtitle">Turbine wake interaction analysis</p>
            </div>
            
            <div class="card glass">
                <div class="card-header">
                    <h2><i class="fas fa-fan"></i> Turbines</h2>
                    <button onclick="addTurbine()" class="secondary-btn">
                        <i class="fas fa-plus"></i> Add
                    </button>
                </div>
                <div class="card-body">
                    <div id="turbine-list" class="turbine-list"></div>
                    
                    <div class="input-row">
                        <div class="input-group">
                            <label>Wake Model</label>
                            <select id="wake-model">
                                <option value="jensen">Jensen</option>
                                <option value="larsen">Larsen</option>
                            </select>
                        </div>
                    </div>
                    
                    <button onclick="runWake()" class="primary-btn glow">
                        <i class="fas fa-play"></i> Calculate Wake Losses
                    </button>
                </div>
            </div>
            
            <div class="results glass" id="wake-results">
                <div class="results-placeholder">
                    <i class="fas fa-chart-contour"></i>
                    <p>Results will appear here</p>
                </div>
            </div>
        </section>

        <!-- Layout -->
        <section id="layout" class="page">
            <div class="page-header">
                <h1><i class="fas fa-th"></i> Layout Design</h1>
                <p class="subtitle">Wind farm layout optimization</p>
            </div>
            
            <div class="card glass">
                <div class="card-header">
                    <h2><i class="fas fa-magic"></i> Methods</h2>
                </div>
                <div class="card-body">
                    <div class="method-grid">
                        <div class="method-card" onclick="createGridLayout()">
                            <div class="method-icon"><i class="fas fa-border-all"></i></div>
                            <h3>Grid</h3>
                            <p>Regular pattern</p>
                        </div>
                        <div class="method-card" onclick="createStaggeredLayout()">
                            <div class="method-icon"><i class="fas fa-stream"></i></div>
                            <h3>Staggered</h3>
                            <p>Offset rows</p>
                        </div>
                        <div class="method-card" onclick="optimizeLayout()">
                            <div class="method-icon"><i class="fas fa-genetic"></i></div>
                            <h3>GA Optimize</h3>
                            <p>Genetic Algorithm</p>
                        </div>
                    </div>
                    
                    <div class="layout-canvas-wrapper">
                        <canvas id="layoutCanvas"></canvas>
                    </div>
                    
                    <div class="layout-stats" id="layout-stats"></div>
                </div>
            </div>
        </section>

        <!-- Neural MCP -->
        <section id="neural-mcp" class="page">
            <div class="page-header">
                <h1><i class="fas fa-brain"></i> Neural MCP</h1>
                <p class="subtitle">Machine learning based correlation</p>
            </div>
            
            <div class="card glass">
                <div class="card-header">
                    <h2><i class="fas fa-network-wired"></i> Neural Network</h2>
                </div>
                <div class="card-body">
                    <div class="neural-config">
                        <div class="input-group">
                            <label>Hidden Layers</label>
                            <input type="text" id="neural-layers" value="64, 32, 16" placeholder="64, 32, 16">
                        </div>
                        <div class="input-group">
                            <label>Epochs</label>
                            <input type="number" id="neural-epochs" value="500">
                        </div>
                        <div class="input-group">
                            <label>Learning Rate</label>
                            <input type="number" step="0.0001" id="neural-lr" value="0.001">
                        </div>
                    </div>
                    
                    <div class="input-row">
                        <div class="input-group half">
                            <label>Reference Data</label>
                            <textarea id="neural-ref" placeholder='[{"wind_speed": 8.5, "wind_direction": 270}, ...]'></textarea>
                        </div>
                        <div class="input-group half">
                            <label>Target Data</label>
                            <textarea id="neural-target" placeholder='[{"wind_speed": 8.1, "wind_direction": 275}, ...]'></textarea>
                        </div>
                    </div>
                    
                    <button onclick="runNeuralMCP()" class="primary-btn glow">
                        <i class="fas fa-brain"></i> Train Neural Network
                    </button>
                </div>
            </div>
            
            <div class="results glass" id="neural-results">
                <div class="results-placeholder">
                    <i class="fas fa-network-wired"></i>
                    <p>Training results will appear here</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Toast Notifications -->
    <div id="toast-container"></div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="hidden">
        <div class="loader">
            <div class="loader-ring"></div>
            <p>Processing...</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>
</html>
